{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/user.service\";\nimport * as i2 from \"../_services/user-auth.service\";\nimport * as i3 from \"@angular/router\";\nfunction LoginComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.errorMessage, \" \");\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(userService, userAuthService, router) {\n      this.userService = userService;\n      this.userAuthService = userAuthService;\n      this.router = router;\n      this.errorMessage = null; // Propriété pour stocker le message d'erreur\n    }\n    ngOnInit() {}\n    login(loginForm) {\n      if (loginForm.valid) {\n        this.userService.login(loginForm.value).subscribe(response => {\n          this.userAuthService.setRoles(response.user.role);\n          this.userAuthService.setToken(response.jwtToken);\n          // Déterminer le rôle de l'utilisateur et naviguer en conséquence\n          const role = response.user.role[0].roleName;\n          if (role === 'Admin') {\n            this.router.navigate(['/admin']);\n          } else if (role === 'Manager') {\n            this.router.navigate(['/manager']);\n          } else if (role === 'User') {\n            this.router.navigate(['/user']);\n          } else {\n            this.router.navigate(['/moderant']);\n          }\n          this.errorMessage = null; // Réinitialiser le message d'erreur en cas de connexion réussie\n        }, error => {\n          console.error('Login error:', error);\n          this.errorMessage = 'Username or password is incorrect'; // Afficher le message d'erreur\n        });\n      } else {\n        this.errorMessage = 'Please fill in all fields'; // Afficher un message d'erreur si le formulaire est invalide\n      }\n    }\n    resetForm(form) {\n      form.resetForm(); // Réinitialiser le formulaire Angular\n      this.errorMessage = null; // Réinitialiser le message d'erreur\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LoginComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.UserAuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 40,\n      vars: 1,\n      consts: [[\"loginForm\", \"ngForm\"], [1, \"login-container\"], [1, \"events-container\"], [1, \"events-content\"], [1, \"login-form-container\"], [\"src\", \"assets/mainlogo.png\", \"alt\", \"Login Image\", 1, \"login-image\"], [1, \"login-form\"], [3, \"ngSubmit\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"userName\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"userName\", \"id\", \"userName\", \"placeholder\", \"Enter your username\", 1, \"form-control\", \"mb-3\"], [\"for\", \"userPassword\"], [\"type\", \"password\", \"ngModel\", \"\", \"name\", \"userPassword\", \"id\", \"userPassword\", \"placeholder\", \"Enter your password\", 1, \"form-control\", \"mb-3\"], [1, \"button-group\"], [\"type\", \"submit\", \"value\", \"Login\", 1, \"btn\", \"btn-outline-primary\", \"rounded-1\", \"mb-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"rounded-1\", \"mb-3\", 3, \"click\"], [\"href\", \"#\", 1, \"forgot-password-link\"], [1, \"moving-balls\"], [1, \"ball\", \"ball1\"], [1, \"ball\", \"ball2\"], [1, \"footer\"], [\"href\", \"#\"], [1, \"alert\", \"alert-danger\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"h2\");\n          i0.ɵɵtext(4, \"Welcome to Our Hospital Management System\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\");\n          i0.ɵɵtext(6, \"Stay informed about our latest events and updates.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\");\n          i0.ɵɵtext(8, \"Our software is designed to help you manage your hospital more efficiently with the latest technology. From patient management to staff coordination, our system streamlines operations and enhances productivity.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"p\");\n          i0.ɵɵtext(10, \"Experience the power of modern healthcare management, ensuring your hospital runs smoothly and effectively.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"p\");\n          i0.ɵɵtext(12, \"With real-time data tracking and automated processes, you can focus more on patient care while we handle the logistics.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(13, \"div\", 4);\n          i0.ɵɵelement(14, \"img\", 5);\n          i0.ɵɵelementStart(15, \"div\", 6)(16, \"form\", 7, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_16_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const loginForm_r2 = i0.ɵɵreference(17);\n            return i0.ɵɵresetView(ctx.login(loginForm_r2));\n          });\n          i0.ɵɵtemplate(18, LoginComponent_div_18_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementStart(19, \"label\", 9);\n          i0.ɵɵtext(20, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(21, \"input\", 10);\n          i0.ɵɵelementStart(22, \"label\", 11);\n          i0.ɵɵtext(23, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(24, \"input\", 12);\n          i0.ɵɵelementStart(25, \"div\", 13);\n          i0.ɵɵelement(26, \"input\", 14);\n          i0.ɵɵelementStart(27, \"button\", 15);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_27_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const loginForm_r2 = i0.ɵɵreference(17);\n            return i0.ɵɵresetView(ctx.resetForm(loginForm_r2));\n          });\n          i0.ɵɵtext(28, \"Cancel\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(29, \"hr\");\n          i0.ɵɵelementStart(30, \"a\", 16);\n          i0.ɵɵtext(31, \"Forgot Your Password?\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(32, \"div\", 17);\n          i0.ɵɵelement(33, \"div\", 18)(34, \"div\", 19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"footer\", 20)(36, \"p\");\n          i0.ɵɵtext(37, \"\\u00A9 2024 Top Hospital, Inc. All rights reserved. | \");\n          i0.ɵɵelementStart(38, \"a\", 21);\n          i0.ɵɵtext(39, \"Bijou Joseph Nathanael\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        }\n      },\n      styles: [\"@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-30px)}60%{transform:translateY(-15px)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_moveAround{0%{top:0;left:0}25%{top:0;left:100%;transform:translate(-100%)}50%{top:100%;left:100%;transform:translateY(-100%) translate(-100%)}75%{top:100%;left:0;transform:translateY(-100%)}to{top:0;left:0}}.login-container[_ngcontent-%COMP%]{display:flex;height:100vh}.events-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background-color:#15abab;color:#fff;position:relative;overflow:hidden;text-align:center}.events-content[_ngcontent-%COMP%]{padding:20px;animation:_ngcontent-%COMP%_slideUp 1s ease-out}.events-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:44px}.events-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:1.5}.login-form-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0;background-color:#d3d2d9;position:relative;max-width:100%}.login-image[_ngcontent-%COMP%]{width:auto;max-width:200px;max-height:150px;margin-bottom:20px;border-radius:10%;animation:_ngcontent-%COMP%_fadeIn 1s ease-in;margin-top:-20%}.login-form[_ngcontent-%COMP%]{width:100%;max-width:650px;padding:50px;border-radius:5px;background-color:#f8f9f8;box-shadow:0 0 10px #0000001a}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block}.forgot-password-link[_ngcontent-%COMP%]{color:#0070d2;text-decoration:none;display:block;text-align:center;margin-top:15px}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:50px}.btn[_ngcontent-%COMP%]{flex:1;max-width:200px;text-align:center}.btn-outline-primary[_ngcontent-%COMP%]{color:#15abab;background-color:transparent;border-color:#15abab;font-size:large}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#ecf7f7;background-color:#15abab;border-color:#a72f8f}.btn-outline-secondary[_ngcontent-%COMP%]{color:#15abab;border-color:#15abab}.btn-outline-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ee4040;border-color:#0f5898}.footer[_ngcontent-%COMP%]{text-align:center;padding:10px;background-color:#f1f1f1;color:#333;position:absolute;bottom:0;width:100%}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.moving-balls[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}.ball[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:50%;animation:_ngcontent-%COMP%_moveAround 10s infinite linear}.ball1[_ngcontent-%COMP%]{background-color:#ff5733;top:10%;left:10%}.ball2[_ngcontent-%COMP%]{background-color:#ed9135;top:50%;left:50%}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{flex-direction:column}.login-form-container[_ngcontent-%COMP%]{order:1;width:100%;padding:20px}.events-container[_ngcontent-%COMP%]{display:none}.login-image[_ngcontent-%COMP%]{width:40%;margin-bottom:10px}.login-form[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 480px){.login-image[_ngcontent-%COMP%]{width:50%}.login-form[_ngcontent-%COMP%]{padding:15px}}@media (max-width: 768px) and (orientation: landscape){.login-container[_ngcontent-%COMP%]{flex-direction:column}.login-form-container[_ngcontent-%COMP%], .events-container[_ngcontent-%COMP%]{width:100%;padding:10px}.events-container[_ngcontent-%COMP%]{display:none}}\"]\n    });\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}